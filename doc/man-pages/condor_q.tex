\begin{ManPage}{\label{man-condor-q}\Condor{q}}{1}
{Display information about jobs in queue}
\Synopsis \SynProg{\Condor{q}}
\oOpt{-help} 
\oOpt{-global} 
\oOptArg{-submitter}{submitter}
\oOptArg{-name}{name} 
\oOptArg{-pool}{hostname}
\oOpt{-analyze}
\oOpt{-run}
\oOpt{-goodput}
\oOpt{-long}
\oOpt{-cputime}
\oOpt{-currentrun}
\oArg{\{cluster \Bar cluster.process \Bar owner \Bar
  \OptArg{-constraint}{expression} \Dots \} }

\index{Condor commands!condor\_q}
\index{condor\_q command}

\Description
\Condor{q} displays information about jobs in the Condor job queue.  By
default, \Condor{q} queries the local job queue but this behavior may be 
modified by specifying:
\begin{itemize}
	\item the \Opt{-global} option, which queries all job queues in the pool
	\item a schedd name with the \Opt{-name} option, which causes the queue of 
		the named schedd to be queried 
	\item a submitter with the \Opt{-submitter} option, which causes all queues
		of the named submitter to be queried
\end{itemize}

To restrict the display to jobs of interest, a list of zero or more 
restrictions may be supplied.  Each restriction may be one of:
\begin{itemize}
	\item a \Arg{cluster} and a \Arg{process} matches jobs which
		belong to the specified cluster and have the specified process number
	\item a \Arg{cluster} without a \Arg{process} matches all jobs belonging
		to the specified cluster
	\item a \Arg{owner} matches all jobs owned by the specified owner
	\item a \OptArg{-constraint}{expression} which matches all jobs that
		satisfy the specified ClassAd expression. (See section~\ref{classad-reference}
		for a discussion of ClassAd expressions.)
\end{itemize}
If no \Arg{owner} restrictions are present in the list, the job matches the 
restriction list if it matches at least one restriction in the list.  If 
\Arg{owner} restrictions are present, the job matches the list if it matches 
one of the \Arg{owner} restrictions \emph{and} at least one non-owner 
restriction.

If the \Opt{-long} option is specified, \Condor{q} displays a long description 
of the jobs in the queue.  Otherwise, a one line summary of information is
displayed as follows:

\begin{description}
\item[ID] The cluster/process id of the condor job. 
\item[OWNER] The owner of the job. 
\item[SUBMITTED] The month, day, hour, and minute the job was submitted to the 
	queue. 
\item[RUN\_TIME]  Wall-clock time accumulated by the job to date in days, 
	hours, minutes, and seconds.  
\item[ST] Current status of the job. U = unexpanded (never been run), H = on hold,
	R = running, I = idle (waiting for a machine to execute on), C = completed, 
	and X = removed. 
\item[PRI] User specified priority of the job, ranges from -20 to +20, with 
	higher numbers corresponding to greater priority. 
\item[SIZE] The virtual image size of the executable in megabytes. 
\item[CMD] The name of the executable. 
\end{description}

If the \Opt{-run} option is specified, the ST, PRI, SIZE, and CMD
columns are replaced with:

\begin{description}
\item[HOST(S)] The host where the job is running.  For PVM jobs, a
host count is displayed instead.
\end{description}

If the \Opt{-goodput} option is specified, the ST, PRI, SIZE, and CMD
columns are replaced with:

\begin{description}
\item[GOODPUT] The percentage of RUN\_TIME for this job which has been
saved in a checkpoint.  A low GOODPUT value indicates that the job is
failing to checkpoint.  If a job has not yet attempted a checkpoint,
this column contains \texttt{[?????]}.
\item[CPU\_UTIL] The ratio of CPU\_TIME to RUN\_TIME for checkpointed
work.  A low CPU\_UTIL indicates that the job is not running
efficiently, perhaps because it is I/O bound or because the job
requires more memory than available on the remote workstations.  If
the job has not (yet) checkpointed, this column contains \texttt{[??????]}.
\end{description}

If the \Opt{-cputime} option is specified, the RUN\_TIME 
column is replaced with:

\begin{description}
\item[CPU\_TIME] The remote CPU time accumulated by the job to date
(which has been stored in a checkpoint) in days, hours, minutes, and
seconds.  (If the job is currently running, time accumulated during
the current run is \emph{not} shown.  If the job has not checkpointed,
this column contains 0+00:00:00.)
\end{description}

The \Arg{-analyze} option may be used to determine why certain jobs are not
running by performing an analysis on a per machine basis for each machine in 
the pool.  The reasons may vary among failed constraints, insufficient priority,
resource owner preferences and prevention of preemption by the 
\Macro{PREEMPTION\_HOLD} expression.  If the \Arg{-long} option is specified 
along with the \Arg{-analyze} option, the reason for failure is displayed on a 
per machine basis.

\begin{Options}
    \OptItem{\Opt{-help}}{Get a brief description of the supported options}
    \OptItem{\Opt{-global}}{Get queues of all the submitters in the system}
	\OptItem{\OptArg{-submitter}{submitter}}{List jobs of specific submitter 
		from all the queues in the pool}
	\OptItem{\OptArg{-pool}{hostname}}{Use hostname as the central manager to 
		locate schedds. (The default is the \Macro{COLLECTOR\_HOST} specified
		in the configuration file.}
	\OptItem{\Opt{-analyze}}{Perform an approximate analysis to determine how
		many resources are available to run the requested jobs}
	\OptItem{\Opt{-run}}{Get information about running jobs.}
	\OptItem{\Opt{-goodput}}{Display job goodput statistics.}
	\OptItem{\OptArg{-name}{name}}{Show only the job queue of the named schedd}
	\OptItem{\Opt{-long}}{Display job ads in long format}
	\OptItem{\Opt{-cputime}} Instead of wall-clock allocation time (RUN\_TIME), 
		display remote CPU time accumulated by the job to date in days,
		hours, minutes, and seconds.  (If the job is currently running, time
		accumulated during the current run is \emph{not} shown.)
	\OptItem{\Opt{-currentrun}} Normally, RUN\_TIME contains all the time
		accumulated during the current run plus all previous runs.  If this
		option is specified, RUN\_TIME only displays the time accumulated so
		far on this current run.
	\OptItem{Restriction list}{The restriction list may have zero or more items,
		each of which may be:
		\begin{description}
			\item[\Arg{cluster}] match all jobs belonging to cluster
			\item[\Arg{cluster.proc}] match all jobs belonging to cluster with
				a process number of \emph{proc}
			\item[\OptArg{-constraint}{expression}] match all jobs which match
				the ClassAd expression constraint
		\end{description} 
		A job matches the restriction list if it matches any restriction in the 
		list  Additionally, if \Arg{owner} restrictions are supplied, the job
		matches the list only if it also matches an \Arg{owner} restriction.}
\end{Options}

\GenRem
Although \Arg{-analyze} provides a very good first approximation, the analyzer 
cannot diagnose all possible situations because the analysis is based on 
instantaneous and local information.  Therefore, there are some situations 
(such as when several submitters are contending for resources, or if the pool 
is rapidly changing state) which cannot be accurately diagnosed.

\Arg{-goodput} and \Arg{-cputime} are only useful for STANDARD
universe jobs, since they rely on values computed when a job
checkpoints.

\end{ManPage}
