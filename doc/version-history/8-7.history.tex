%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{\label{sec:History-8-5}Development Release Series 8.7}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

This is the development release series of HTCondor.
The details of each version are described below.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-8-7-2}Version 8.7.2}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item HTCondor version 8.7.2 not yet released.
%\item HTCondor version 8.7.2 released on Month Date, 2017.

\end{itemize}


\noindent New Features:

\begin{itemize}

\item Improved the performance of the condor\_schedd by setting the
default for the knob SUBMIT\_SKIP\_FILECHECKS to false.  This prevents
the schedd from checking the readability of all input files, and skips
the creation of the output files on the submit side at submit time.
Output files are now created either at transfer time, when file transfer
is on, or by the job itself, if a shared filesystem is used.  As a result
of this change, it is possible that a job runs to completion, and only
then is put on hold because the output file on the submit machine cannot
by written to.
\Ticket{6220}

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

\item None.

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-8-7-1}Version 8.7.1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item HTCondor version 8.7.1 not yet released.
%\item HTCondor version 8.7.1 released on Month Date, 2017.

\end{itemize}


\noindent New Features:

\begin{itemize}

\item Docker universe detection is now more robust in the
face of extraneous output to standard error on docker startup.
This was preventing Condor from detecting that docker was properly
working on hosts.
\Ticket{6185}

\item Docker universe jobs can now use condor\_chirp command
(if it is in the image).
\Ticket{6162}

\item Increased the default value for configuration parameter
\MacroNI{NEGOTIATOR\_SOCKET\_CACHE\_SIZE} to 500.
\Ticket{6165}

\item Added new DaemonCore statistics UdpQueueDepth to measure the
number of bytes in the UDP receive queue for daemons with a UDP command port.
\Ticket{6183}

\item Improved speed of handling queries to the collector by caching the 
config knob SHARED\_PORT\_ADDRESS\_REWRITING
\Ticket{6187}

\item The \Condor{collector} on Linux now handles some queries in process and some
by forking a child process. This allows it to avoid the overhead of forking to handle
queries that will take little time. The policy for deciding which queries to handle in process
is controlled by a new configuration parameter \Macro{HANDLE\_QUERY\_IN\_PROC\_POLICY}.
\Ticket{6191}

\item Added \Opt{-limit} option to \Condor{status} and changed the \Condor{collector} to honor it.
\Ticket{6198}

\item The \Condor{schedd} now keeps a count of jobs by state for each owner and submitter
and will report them to \Condor{q}. Condor{q} will display these totals unless the new
configuration parameter \Macro{CONDOR\_Q\_SHOW\_OLD\_SUMMARY} is set to true. In 8.7.1
this parameter defaults to true.
\Ticket{6160}

\item \Condor{submit} was changed to use the same utility library that the submit python bindings use.
This should help insure that submit via python bindings will give the same results as using \Condor{submit}.
\Ticket{6181}.

\item Milestone 1 for late materialization in the \Condor{schedd} was completed. This milestone adds the
unducumented option \Opt{-factory} to \Condor{q} that can be used to submit a late materializing job cluster
to the \Condor{schedd}.  The \Condor{schedd} will refuse the submission unless the configuration parameter 
Macro{SCHEDD\_ALLOW\_LATE\_MATERIALIZATION} is set to true.
\Ticket{6212}

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

\item None.

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-8-7-0}Version 8.7.0}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item HTCondor version 8.7.0 released on March 2, 2017.

\end{itemize}


\noindent New Features:

\begin{itemize}

\item Optimized the code that reads reads ClassAds off the wire making the maximum possible update rate
for the Collector about 1.7 times higher than it was before.
\Ticket{6105}
\Ticket{6130}

\item New statistics have been added to the Collector ad to show time spent handling queries.
\Ticket{6123}

\item Changed the formatting of the printing of ClassAd expressions with
parentheses. Now there is no space character after every open parenthesis, or
before every close parenthesis
This looks more natural, is somewhat faster for the condor to parse, and
saves space.  That is, an expression that used to print like

\begin{verbatim}
( ( ( foo ) ) )
\end{verbatim}
now will print like this
\begin{verbatim}
(((foo)))
\end{verbatim}
\Ticket{6082}

\item Technology preview of the HTCondor Annex. The HTCondor Annex allows one
to extend their HTCondor pool into the cloud.
\URL{https://htcondor-wiki.cs.wisc.edu/index.cgi/wiki?p=HowToUseCondorAnnexWithOnDemandInstances}
\Ticket{6121}

\item Added \Opt{-annex} option to \Condor{status} and \Condor{off}.  Requires
an argument; the request is constrained to match machines whose
\Expr{AnnexName} ClassAd attribute matches the argument.
\Ticket{6116}
\Ticket{6117}

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

\item Removed redundant updates to the job queue by the Job Router.
\Ticket{6102}

\end{itemize}

