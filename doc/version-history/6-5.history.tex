%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{\label{sec:History-6-5}Stable Release Series 6.5}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

This is the development release series of Condor,
The details of each version are described below.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:New-6-5-2}Version 6.5.2}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent New Features:
\begin{itemize}

\item All daemons now publish ``sequence number'' and ``start time''
information in their ClassAds.

\item The Collector now maintains and publishes update statistics
using the above ClassAd ``sequence number'' and ``start time''
information.  History information is stored for the past
COLLECTOR\_CLASS\_HISTORY\_SIZE updates and is also published in the
Collector's ClassAd as a hex string.

\item The collector and negotiator can now run on configurable
 ports. There are four new configuration parameters you can use:

  \begin{itemize}
  \item \Macro{COLLECTOR\_PORT}
  \item \Macro{NEGOTIATOR\_PORT}
  \item \Macro{CONDOR\_VIEW\_PORT}
  \item \Macro{CONDOR\_DEVELOPERS\_COLLECTOR\_PORT}
  \end{itemize}

\item When the Condor daemons start up, they now log the names of the
Configuration files they are using, right after the startup banner.

\item The \Condor{config\_val} program now has a \Arg{-verbose} option
  which will tell you in which configuration file and line number a
  condor configuration parameter is defined.

\item The value of the \Macro{JOB\_RENICE\_INCREMENT} configuration
      parameter can now be an arbitrary ClassAd expression rather than
      just a static integer.  The expression will be evaluated by the
      \Condor{starter} for each job just before it runs, and can refer
      to any attribute in the job ClassAd.

\end{itemize}

\noindent Bugs Fixed:
\begin{itemize}

\item DAGMan now correctly reports an error and rejects DAGs which
      contain two nodes with the same name, regardless of their case.
      (DAGMan has rejected duplicate node names since Condor 6.4.6,
      but until now it would fail to do so if there was any difference
      in their case.)

\item When \Condor{submit\_dag} checks job submit files for proper
      ``log'' statements, it now correctly recognizes lines with
      leading whitespace.

\item The \Condor{master} used to always pass a \Opt{-f} on the
  command line to all daemons defined in the \Macro{DAEMON\_LIST}
  config file setting.
  However, if you include entries which are not Condor daemons, the
  \Condor{master} will no longer add a \Opt{-f}.

\end{itemize}

\noindent Known Bugs:
\begin{itemize}

\item None.

\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:New-6-5-1}Version 6.5.1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent New Features:
\begin{itemize}

\item DAGMan now supports both Condor computational jobs and Stork data
placement (DaP) jobs.  (See \URL{http://www.cs.wisc.edu/condor/stork/}
for more info on Stork.)

\item Starter exceptions, such as failure to open standard input, are
now recorded in the user log.

\item Added new \Arg{-forcex} argument to \Condor{rm} to force the
immediate local removal of (typically Globus universe) jobs in the 'X'
state, regardless of their remote state.

\end{itemize}

\noindent Bugs Fixed:
\begin{itemize}

\item When transfer\_files is being used, the path to the stdout/stderr
files was not being respected.  After hese files have been transferred,
they are now copied to the location specified in the submit file.

\item A DAGMan bug introduced in Condor 6.5.0 has been fixed, where
DAGMan could crash (with a failed assertion) when recovering from a
rescue DAG.

\item Fixed a bug in the example condor\_config.generic and
hawkeye\_config files, where COLLECTOR\_HOST was being included in the
default STARTD\_EXPRS in non-string form, resulting in an invalid value
for that attribute in machine classads.

\end{itemize}

\noindent Known Bugs:
\begin{itemize}

\item DAGMan doesn't detect when users mistakenly specify two
DAG nodes with the same node name; instead it waits for the
same node to complete twice, which never happens, and so DAGMan
goes off into never-never land.

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:New-6-5-0}Version 6.5.0}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\noindent New Features:
\begin{itemize}

\item A fresh value of RemoteWallClock is now used when evaluating
user policy expressions, such as periodic\_remove.

\item The IOProxy handler now handles escaped characters (whitespace)
in filenames.

\item condor.boot is now configured to work automatically with RedHat
chkconfig.

\item A new log\_xml option has been added to condor\_submit. It is
documented in the condor\_submit portion of the manual.

\item A new DAGMan option to produce dot files was added. Dot is a
program that creates visualizations of DAGs. This feature is
documented in Section~\ref{sec:DAGMan}.

\item The email report from condor\_preen is now less cryptic, and
more self-explanatory.

\item Specifying full device paths (e.g., ``/dev/mouse'') instead of bare
device names (e.g., ``mouse'') in CONSOLE\_DEVICES in the config file is no
longer an error.

\item The condor\_submit tool now prints a more helpful, specific error if
the specified job executable is not found, or can't be accessed.

\item The startd ``cron'' (Hawkeye) now permits zero length ``prefix''
strings.

\item A number of new Hawkeye modules have been added, and most have
various bug fixes and improvements.

\item Added support for a new config parameter, Q\_QUERY\_TIMEOUT, which
defines the timeout that \Condor{q} uses when communicating with the
\Condor{schedd}.

\item Added the ability to use TCP to send ClassAd updates to the
Condor{collector}, though the feature is disabled by default.
Read section~\ref{sec:tcp-collector-update} on ``Using TCP to Send
Collector Updates'' on page~\pageref{sec:tcp-collector-update} for
more details and a discussion of when a site would need to enable this 
functionality.

\end{itemize}

\noindent Bugs Fixed:
\begin{itemize}

\item Hawkeye will no longer busy-loop if a ``continuous mode''
module with a period of 0 fails to execute for some reason.  (Now, for
continuous mode modules, a period of 0 is automatically reset to be 1, and
a warning appears in the log.)

\item Fixed a very rare potential bug when initializing a user log
file.
Improved the error messages generated when there are problems
initializing the user log to include string descriptions of the
errors, not just the error number (errno).

\item The default value in the config files for \Macro{LOCK} is now
defined in terms of \Macro{LOG}, instead of using \Macro{LOCAL\_DIR}
and appending ``log''.
This is a very minor correction, but in the rare cases where the log
directory is being redefined for some reason, we usually want that to
apply to the lock files, as well.
Of course, if the log directory is on NFS, \Macro{LOCK} should still
be customized to point to a directoy on a local file system.

\end{itemize}

\noindent Known Bugs:
\begin{itemize}

\item DAGMan doesn't detect when users mistakenly specify two
DAG nodes with the same node name; instead it waits for the
same node to complete twice, which never happens, and so DAGMan
goes off into never-never land.

\end{itemize}
