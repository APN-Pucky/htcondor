%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{\label{sec:History-7-5}Development Release Series 7.5}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

This is the development release series of Condor.
The details of each version are described below.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-5-4}Version 7.5.4}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item Condor version 7.5.4 not yet released.
%\item Condor version 7.5.4 released on Month Date, 2010.

% gittrac #1539
\item The release now contains all header files necessary to compile
code that uses the job log reading and writing utilities contained
in libcondorapi. Some headers were missing starting in Condor 7.5.1.

\end{itemize}


\noindent New Features:

\begin{itemize}

% gittrac #1522
\item Transfer of directories is now supported by
  \SubmitCmd{transfer\_input\_files} and
  \SubmitCmd{transfer\_output\_files} for non-grid universes and
  Condor-C.  The auto-selection of output files, however, remains the
  same: new directories in the job's output sandbox are not
  automatically selected as outputs to be transferred.

% gittrac #1520
\item Paths other than simple file names with no directory information
  in \SubmitCmd{transfer\_output\_files} previously did not have well
  defined behavior.  Now, paths are supported for non-grid universes
  and Condor-C.  When a path to an output file or directory is
  specified, this specifies the path to the file on the execute side.
  On the submit side, the file is placed in the job's initial working
  directory and it is named using the base name of the original path.
  For example, \File{path/to/output\_file} becomes \File{output\_file}
  in the job's initial working directory.  The name and path of the
  file that is written on the submit side may be modified by using
  \SubmitCmd{transfer\_output\_remaps}.

% gittrac #991
\item The \Condor{shared\_port} daemon is now supported on Windows platforms.

% gittrac #1257
\item Jobs can now by submitted to multiple EC2 servers via the amazon
grid type. The server's URL must be specified via the \SubmitCmd{grid\_resource}
submit description file command for each job.
See section~\ref{sec:Amazon} for details.

%gittrac #1179
\item \Condor{q} now uses the queue-management API's projection feature when 
  used with \Opt{-run}, \Opt{-hold}, \Opt{-goodput}, \Opt{-cputime}, 
  \Opt{-currentrun}, and \Opt{-io} options when called with no display options
  or with \Opt{-format}. 

% gittrac #1460
\item Decreased the CPU utilization of \Condor{dagman} when it is
	submitting ready jobs into Condor.

%gittrac #1479
\item \Condor{dagman} now logs the number of queued jobs in the DAG
that are on hold,
as part of the DAG status message in the \File{dagman.out} file.

%gittrac #825
\item \Condor{dagman} now logs a note in the \File{dagman.out} file
when the \Condor{submit\_dag} and \Condor{dagman} versions differ,
even if the difference is permissible.

%gittrac #1483
\item Added the capability for \Condor{dagman} to create and periodically
rewrite a file that lists the status of all nodes within a DAG.
See section~\ref{sec:DAG-node-status} for details.

%gittrac #1560
\item The \Condor{schedd} daemon now uses a better algorithm for
determining which flocking level is being negotiated.  No special
configuration is required for the new algorithm to work.  In the
past, the algorithm that was used depended on DNS and the
configuration of \MacroNI{NEGOTIATOR\_HOST} and
\MacroNI{FLOCK\_NEGOTIATOR\_HOSTS}.  In some networking environments
(such as a multi-homed central manager), it was difficult to
configure things correctly.  When wrongly configured, negotiation
would be aborted with the message, ``Unknown negotiator.''  The new
algorithm is only used when the negotiator is version 7.5.4 or
newer.  Of course, the \Condor{schedd} daemon must still be configured to
authorize the \Condor{negotiator} daemon at the \DCPerm{NEGOTIATOR}
authorization level.

%gittrac #1483
\item Added the capability for \Condor{dagman} to create a node status
file that is continually updated as the DAG runs (see 
section~\ref{sec:DAG-node-status} for details).

% gittrac #1545
\item The grid universe's 'amazon' grid-type can now be used to submit
virtual machine jobs to Eucalyptus systems via the EC2 interface.

% gittrack #1496
\item \Condor{advertise} has a new option \Opt{-multiple}, which
allows multiple ads to be published.  This is more efficient that
publishing each ad in a separate invocation of \Condor{advertise}.

\end{itemize}

\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

% gittrac #1545
\item The new configuration variable \MacroNI{SOAP\_SSL\_SKIP\_HOST\_CHECK}
can be used to disable the standard check that a SOAP server's hostname
matches the hostname in its X509 certificate. This is useful when submitting
grid-type amazon jobs to Eucalyptus servers, which often have certificaates
with a hostname of 'localhost'.

% gittrac #61
\item Added default values for \MacroNI{<SUBSYS>\_LOG} configuration variables.
  If a \MacroNI{<SUBSYS>\_LOG} configuration variable is not set in 
  files \File{condor\_config} or \File{condor\_config.local},
  it will default to \File{\$(LOG)/<SUBSYS>LOG}.

%gittrac #1385
\item The new job ClassAd attribute \AdAttr{CommittedSuspensionTime}
is a running total of the number of seconds the job has spent in
suspension during time in which the job was not evicted without a
checkpoint.  This complements the existing attribute
\AdAttr{CumulativeSuspensionTime}, which includes all time spent in
suspension, regardless of job eviction.

%gittrack #1385
\item The new job ClassAd attributes \AdAttr{CommittedSlotTime} and
\AdAttr{CumulativeSlotTime} are just like \AdAttr{CommittedTime} and
\AdAttr{RemoteWallClockTime} respectively, except the new attributes
are weighted by the \AdAttr{SlotWeight} of the machine(s) that ran
the job.

%gittrack #1385
\item The new configuration variable
\Macro{SYSTEM\_JOB\_MACHINE\_ATTRS} specifies a list of machine
attributes that should be recorded in the job ClassAd.  The default
attributes are \Attr{Cpus} and \Attr{SlotWeight}.  When there are
multiple run attempts, history of machine attributes from previous
run attempts may be kept.  The number of run attempts to store is
specified by the new configuration variable
\Macro{SYSTEM\_JOB\_MACHINE\_ATTRS\_HISTORY\_LENGTH}, which defaults
to 1.  A machine attribute named \Attr{X} will be inserted into the
job ClassAd as an attribute named \Attr{MachineAttrX0}.  The previous
value of this attribute will be named \Attr{MachineAttrX1}, the
previous to that will be named \Attr{MachineAttrX2}, and so on, up to
the specified history length.  Additional attributes to record may be
specified on a per-job basis by using the new \SubmitCmd{job\_machine\_attrs}
submit file command.  The history length may also be extended on a
per-job basis by using the new submit file command
\SubmitCmd{job\_machine\_attrs\_history\_length}.

% gittrac 1458
\item The new configuration variable
  \Macro{NEGOTIATION\_CYCLE\_STATS\_LENGTH} specifies how many
  recent negotiation cycles should be included in the history that is
  published in the \Condor{negotiator}'s ad.  The default is 3.  See
  page~\pageref{param:NegotiationCycleStatsLength} for the
  definition of this configuration variable, and see
  page~\pageref{attr:LastNegotiationCycleActiveSubmitterCount<X>} for a
  list of attributes that are published.

%gittrac #1560
\item The configuration variable \Macro{FLOCK\_NEGOTIATOR\_HOSTS} is now
optional.  Previously, the \Condor{schedd} daemon refused to flock without
this setting.  When this is not set, the addresses of the flocked
\Condor{negotiator} daemons are found by querying the flocked collectors.
Of course, the \Condor{schedd} daemon must still be configured to
authorize the \Condor{negotiator} daemon at the \DCPerm{NEGOTIATOR}
authorization level.  Therefore, when using host-based security,
\Macro{FLOCK\_NEGOTIATOR\_HOSTS} may still be useful as a macro for inserting
the negotiator hosts into the relevant authorization lists.

%gittrack #1312
\item The configuration variable \MacroNI{FLOCK\_HOSTS} is no longer used.
For backward compatibility, this setting used to be treated as a default
for \MacroNI{FLOCK\_COLLECTOR\_HOSTS} and \MacroNI{FLOCK\_NEGOTIATOR\_HOSTS}.

% gittrac #1257
\item The configuration variable \MacroNI{AMAZON\_EC2\_URL} is now only used
for previously-submitted jobs when upgrading Condor to version 7.5.4 or
beyond. New grid-type amazon jobs must specify which EC2 service to use
via the grid\_resource submit attribute.

%gittrack #121
\item The new job ClassAd attribute \AdAttr{NumPids} is the total number of 
 child processes a running job has.

%gittrac #1480
\item The new configuration variable \MacroNI{DAGMAN\_MAX\_JOB\_HOLDS}
specifies the maximum number of times a DAG node job is allowed to go
on hold.  See section~\ref{param:DAGManMaxJobHolds} for details.

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

\item Since 7.5.2, the following \Condor{job\_router} features were
  effectively non-functional: \Attr{UseSharedX509UserProxy},
  \Attr{JobShouldBeSandboxed}, and \Attr{JobFailureTest}.

% gittrack #1561
\item \SubmitCmd{copy\_to\_spool} did not work properly in 7.5.3.
  When sending the executable to the execute machine, it was
  transferred from the original path rather than from the spooled copy
  of the file.

% gittrack #1521
\item When output files were auto-selected and spooled, Condor-C and
  \Condor{transfer\_data} would copy back both the output files and
  all other contents of the job's spool directory, which typically
  included the spooled input and the user log.  Now just the output
  files are retrieved.  To adjust which files are retrieved, the job
  attribute \Attr{SpooledOutputFiles} can be manipulated, but this
  typically should just be managed by Condor.

% gittrac 1139
\item \Condor{master} now invalidates its ad in the collector before it shuts
  down.

% gittrac #1563
\item Fixed a bug that caused vm universe jobs to not run if the VMware
.vmx file contained a space.

% gittrac #1549
\item Fixed a bug introduced in 7.5.1 that caused integers in ClassAd
expressions that had leading zeros to be read as octal (base eight).

% gittrac #1516
\item Fixed a bug introduced in 7.5.1 that didn't recognize semicolon
as a separator of function arguments in ClassAds.

% gittrac #1544
\item Fixed a bug that caused integers larger than +/-2\^31 in a ClassAd
expression to be parsed incorrectly. Now, when these integers are
encountered, the largest 32-bit integer (with matching sign) is used.

% gittrac #1537
\item Fixed a bug that caused the condor\_gridmanager to exit when
receiving badly-formatted error messages from the nordugrid\_gahp.

\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item None.

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item None.

\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-5-3}Version 7.5.3}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item Condor version 7.5.3 released on June 29, 2010.

\end{itemize}


\noindent New Features:

\begin{itemize}

% gittrac 1274
\item \Condor{q} \Opt{-analyze} now notices the \Opt{-l} option, and if both
are given, then the analysis prints out the list of machines
in each analysis category.

% gittrac 1302
\item The behavior of macro expansion in the configuration file has
  changed.  Previously, most macros were effectively treated as
  undefined unless explicitly assigned a value in the configuration
  file.  Only a small number of special macros had pre-defined values
  that could be referred to via macro expansion.  Examples include
  \MacroNI{FULL\_HOSTNAME} and \MacroNI{DETECTED\_MEMORY}.  Now, most
  configuration settings that have default values can be referred to
  via macro expansion.  There are a small number of exceptions where
  the default value is too complex to represent in the current
  implementation of the configuration table.  Examples include the
  security authorization settings. All such configuration settings
  will also be reported as undefined by \Condor{config\_val} unless
  they are explicitly set in the configuration file.

% gittrac 1131
\item Unauthenticated connections are now identified as
  \verb|unauthenticated@unmapped|.  Previously, unauthenticated
  connections were not assigned a name, so some authorization policies
  that needed to distinguish between authenticated and unauthenticated
  connections were not expressible.  Connections that are
  authenticated but not mapped to a name by the mapfile used to be
  given the name \verb|auth-method@unmappeduser|, where
  \emph{auth-method} is the authentication method that was used.  Such
  connections are now given the name \verb|auth-method@unmapped|.
  Connections that match \verb|*@unmapped| are now forbidden from
  doing operations that require a user id, regardless of configuration
  settings.  Such operations include job submission, job removal, and
  any other job management commands that modify jobs.

% gittrac 1131
\item There has been a change of behavior when authentication fails.
  Previously, authentication failure always resulted in the command
  being rejected, regardless of whether the ALLOW/DENY settings
  permitted unauthenticated access or not.  This is still true if either
  the client or server specifies that authentication is required.
  However, if both sides specify that authentication is not required
  (i.e. preferred or optional), then authentication failure only results
  in the command being rejected if the ALLOW/DENY settings reject
  unauthenticated access.  This change makes it possible to have some
  commands accept unauthenticated users from some network addresses
  while only allowing authenticated users from others.

\item Improved log messages when failing to authenticate requests.  At
  least the IP address of the requester is identified in all cases.

% gittrac 1357
\item The new submit file command \SubmitCmd{job\_ad\_information\_attrs}
may be used to specify attributes from the job ad that should be saved
in the user log whenever a new event is being written.  See
page~\pageref{man-condor-submit-job-ad-information-attrs} for details.

%gittrac 1391
\item Administrative commands now support the \Opt{-constraint} option, which
  accepts a ClassAd expression.  This applies to \Condor{checkpoint},
  \Condor{off}, \Condor{on}, \Condor{reconfig}, \Condor{reschedule},
  \Condor{restart}, \Condor{set\_shutdown}, and \Condor{vacate}.

%gittrac #1351
\item File transfer plugins can be used for vm universe jobs. Notably,
  \Expr{file://} URLs can be used to allow VM image files to be pre-staged
  on the execute machine. The submit description file command 
  \SubmitCmd{vmware\_dir} is now optional.
  If it is not given, then all relevant VMware image files
  must be listed in \SubmitCmd{transfer\_input\_files}, possibly as URLs.

%gittrac #1403
\item File transfers for CREAM grid universe jobs are now initiated by
  the \Condor{gridmanager}. This removes the need for a GridFTP server
  on the client machine.

%gittrac #1403
\item Improved the parallelism of file transfers for nordugrid jobs.

%gittrac #1298
\item Removed the distinction between regular and full reconfiguration
  of Condor daemons. Now, all reconfigurations are full and require the
  WRITE authorization level. \Condor{reconfig} accepts but ignores the
  \Opt{-full} command-line option.

\item The \Prog{batch\_gahp}, used for pbs and lsf grid universe jobs, has been
updated from version 1.12.2 to 1.16.0.

\item \Condor{dagman} now prints a message to the \File{dagman.out} file
when it truncates a node job user log file.

%gittrac 1410
\item \Condor{dagman} now allows node categories to include
nodes from different splices.  See section~\ref{sec:DAG-node-category}
for details.

%gittrac 1410
\item \Condor{dagman} now allows category throttles in splices to
be overridden by higher levels in the DAG splicing structure.
See section~\ref{sec:DAG-node-category} for details.

%gittrac 1158
\item Daemon logs can now be rotated several times instead of only once 
  into a single \File{.old} file. In order to do so, the newly introduced 
  configuration variable \Macro{MAX\_NUM\_<SUBSYS>\_LOG} needs to be set 
  to a value greater than 1. The file endings will be ISO timestamps, and
  the oldest rotated file will still have the ending \File{.old}.
 

\end{itemize}

\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

\item The new configuration variable \Macro{JOB\_ROUTER\_LOCK}  specifies a
  lock file used to
  ensure that multiple instances of the \Condor{job\_router} never run
  with the same values of \MacroNI{JOB\_ROUTER\_NAME}.
  Multiple instances running
  with the same name could lead to mismanagement of routed jobs.

\item The new configuration variable \Macro{ROOSTER\_MAX\_UNHIBERNATE}
  is an integer
  specifying the maximum number of machines to wake up per cycle.
  The default value of 0 means no limit.

\item The new configuration variable \Macro{ROOSTER\_UNHIBERNATE\_RANK}
  is a ClassAd
  expression specifying which machines should be woken up first in a
  given cycle.  Higher ranked machines are woken first.
  If the number of machines to be woken up is limited by
  \MacroNI{ROOSTER\_MAX\_UNHIBERNATE}, the rank may be used for
  determining which machines are woken before reaching the limit.

% gittrac 1228
\item The new configuration variable \Macro{CLASSAD\_USER\_LIBS}
  is a list of libraries
  containing additional ClassAd functions to be used during ClassAd
  evaluation.

% gittrac 1375
\item The new configuration variable \MacroNI{SHADOW\_WORKLIFE}
  specifies the number of seconds after which the \Condor{shadow} will exit,
  when the current job finishes, instead of fetching a new job to
  manage.  Having the \Condor{shadow} continue managing jobs helps
  reduce overhead and can allow the \Condor{schedd} to achieve higher
  job completion rates.  The default is 3600, one hour.  The value 0
  causes \Condor{shadow} to exit after running a single job.

%gittrac 1158  
\item The new configuration variable \Macro{MAX\_NUM\_<SUBSYS>\_LOG} 
  will determine how often the daemon log of \MacroNI{SUBSYS} will rotate.
  The default value is 1 which leads to the old behavior of a single 
  rotation into a \File{.old} file.

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

% gittrac 1332
\item Configuration variables with a default value of 0
  that were not defined in the configuration file
  were treated as though they were undefined by \Condor{config\_val}.
  Now Condor treats this case like any other:
  the default value is displayed.

% gittrac #1203
\item Starting in Condor version 7.5.1,
  using literals with a logical operator
  in a ClassAd expression (for example, \Expr{1 || 0}) caused the expression
  to evaluate to the value \Expr{ERROR}. The previous behavior has been
  restored: zero values are treated as \Expr{False},
  and non-zero values are treated as \Expr{True}.


% gittrac 1378
\item Starting in Condor version 7.5.0,
  the \Condor{schedd} no longer supported queue
  management commands when security negotiation was disabled,
  for example, if \Expr{SEC\_DEFAULT\_NEGOTIATION = NEVER}.

% gittrac 1395
\item Fixed a bug introduced in Condor version 7.5.1.
ClassAd string literals containing
characters with negative ASCII values were not accepted.

% gittrac #1334
\item Fixed a bug introduced in Condor version 7.5.0,
which caused Condor to not renew
job leases for CREAM grid jobs in most situations.

% gittrac #1331
\item Question marks occurring in a ClassAd string are no longer preceded
by a backslash when the ClassAd is printed.

\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item None.

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item None.

\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-5-2}Version 7.5.2}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item Condor version 7.5.2 released on April 26, 2010.

% gittrac 1003
\item Condor no longer supports SuSE 8 Linux on the Itanium 64 architecture.

% gittrac #600
\item The following submit description file commands are no longer recognized.
Their functionality is replaced by the command \SubmitCmd{grid\_resource}.
\begin{description}
  \item{\SubmitCmd{grid\_type}}
  \item{\SubmitCmd{globusscheduler}}
  \item{\SubmitCmd{jobmanager\_type}}
  \item{\SubmitCmd{remote\_schedd}}
  \item{\SubmitCmd{remote\_pool}}
  \item{\SubmitCmd{unicore\_u\_site}}
  \item{\SubmitCmd{unicore\_v\_site}}
\end{description}

\end{itemize}


\noindent New Features:

\begin{itemize}

% gittrac 1231
% gittrac 1287
\item The \Condor{schedd} daemon uses less disk bandwidth when logging
updates to job ClassAds from running jobs and also when removing jobs
from the queue and handling job eviction and \Condor{shadow} exceptions.
This should improve performance in situations where
disk bandwidth is a limiting factor.
Some cases of updates to the job user log
have also been optimized to be less disk intensive.

% gittrac 1288
\item The \Condor{schedd} daemon uses less CPU when scheduling
some types of job queues.  Most likely to benefit from this improvement is
a large queue of short-running, non-local, and non-scheduler universe jobs,
with at least one idle local or scheduler universe job.

% gittrac 1266
\item The \Condor{schedd} automatically grants the \Condor{startd}
  authority to renew leases on claims and to evict claims.
  Previously, this required that the \Condor{startd} be trusted for
  general \DCPerm{DAEMON}-level command access.  Now this only
  requires \DCPerm{READ}-level command access.  The specific commands
  that the \Condor{startd} sends to the \Condor{schedd} can
  effectively only operate on the claims associated with that \Condor{startd},
  so this change does not open up these operations to access by anyone
  with \DCPerm{READ} access.  It reduces the level of trust that
  the \Condor{schedd} must have in the \Condor{startd}.

% gittrac 834
\item The \Condor{procd}'s log now rotates if logging is activated. 
  The default maximum size is 10Mbytes. To change the default,
  use the configuration variable \Macro{MAX\_PROCD\_LOG}.  

%gittrac 1310
\item For Unix systems only, 
  user job log and global job event log lock files can now optionally 
  be created in a directory on a 
  local drive by setting \MacroNI{NEW\_LOCKING} to \Expr{True}. 
  See section~\ref{param:NewLocking} for 
  the details of this configuration variable.
  
%gittrac 507
\item \Condor{dagman} and \Condor{submit\_dag} now default to lazy
creation  of the \File{.condor.sub} files for nested DAGs.
\Condor{submit\_dag} no longer creates them, and \Condor{dagman}
itself creates the files as the DAG is run.
The previous "eager" behavior can
be obtained with a combination of command-line and configuration settings.
There are several advantages to the "lazy" submit file creation:
\begin{itemize}
\item The DAG file for a nested DAG does not have to exist until that node
is ready to run, so the DAG file can be dynamically created by earlier
parts of the top-level DAG (including by the PRE script of the nested
DAG node).
\item It is now possible to have nested DAGs within splices, which is not
possible with "eager" submit file creation.
\end{itemize}

\end{itemize}

\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

%gittrac 507
\item The new configuration variable
\MacroNI{DAGMAN\_GENERATE\_SUBDAG\_SUBMITS} controls whether
\Condor{dagman} itself generates the \File{.condor.sub} files for
nested DAGs, rather than relying on \Condor{submit\_dag} "eagerly"
creating them.  See section~\ref{param:DAGManGenerateSubDagSubmits} for
more information.

%gittrac 1310
\item The new configuration variable \Macro{NEW\_LOCKING} can specify that
  job user logs and the global job event log to be written to a local drive,
  avoiding locking problems with NFS.
  See section~\ref{param:NewLocking} for 
  the details of this configuration variable.
\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

% gittrac 1300
\item The \Condor{job\_router} failed to work on SLES 9 PowerPC,
AIX 5.2 PowerPC,
and YDL 5 PowerPC due to a problem in how it detected EOF in the job queue log.

% gittrac 742
\item When jobs are removed, the \Condor{schedd} sometimes did not
  quickly reschedule a different job to run on the slot to which the
  removed job had been matched.  Instead, it would take up to
  \MacroNI{SCHEDD\_INTERVAL} seconds to do so.

% gittrac #1279
% Not documenting gittrac #1280, as it was completely covered up by
% #1279.
\item Fixed a bug introduced in Condor version 7.5.1 that caused the
\Prog{gahp\_server} to crash when
first communicating with most gt2 or gt5 GRAM servers.

\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item None.

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item None.

\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-5-1}Version 7.5.1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item Condor version 7.5.1 released on March 2, 2010.

\item Some, but not all of the bug fixes and features which are in
Condor version 7.4.2, are in this 7.5.1 release.

\item The Condor release is now available as a proper RPM or Debian
package.

\item Condor now internally uses the version of New ClassAds provided
as a stand-alone library (\URL{http://www.cs.wisc.edu/condor/classad/}).
Previously, Condor 
used an older version of ClassAds that was heavily tied to the Condor 
development libraries. This change should be transparent in the 
current development series. In the next development series (7.7.x),
Condor  will begin to use features of New ClassAds that were unavailable in 
Old ClassAds. 
Section~\ref{sec:classad-newandold} details the differences.

\item HPUX 11.00 is no longer a supported platform.

\end{itemize}


\noindent New Features:

\begin{itemize}

% gittrac #1102
\item A port number defined within \Macro{CONDOR\_VIEW\_HOST} may now use 
  a shared port.

% gittrac #1104
\item The \Condor{master} no longer pauses for 3 seconds after starting
  the \Condor{collector}.  However, if the configuration variable
  \MacroNI{COLLECTOR\_ADDRESS\_FILE} defines a file, 
  the \Condor{master} will wait for that file to be created
  before starting other daemons.

% gittrac #1144
\item In the grid universe, Condor can now automatically distinguish
between GRAM2 and GRAM5 servers, that is grid types \SubmitCmd{gt2} and
\SubmitCmd{gt5}.
Users can submit jobs using a grid type of \SubmitCmd{gt2} or \SubmitCmd{gt5}
for either type of server.

% gittrac #938
\item Grid universe jobs using the CREAM grid system now batch up
common requests into larger single requests.  This
reduces network traffic, increases the number of parallel tasks
the Condor can handle at once, and reduces the load on the remote
gatekeeper.

% gittrac #1100
\index{submit commands!cream\_attributes}
\item The new submit description file command \SubmitCmd{cream\_attributes}
sets additional attribute/value pairs for the CREAM job description
that Condor creates when submitting a grid universe job 
destined for the CREAM grid system.

% gittrac #1138
\item The \Condor{q} command with option \Opt{-analyze} is now performs
the same analysis as previously occurred with the \Opt{-better-analyze} option.
Therefore, the output of \Condor{q} with the \Opt{-analyze} option
has different output than before.
The \Opt{-better-analyze} option is still recognized and behaves the same
as before, though it may be removed from a future version.

% gittrac #1169
\item Security sessions that are not used for longer than an hour are
now removed from the security session cache to limit memory usage.

% gittrac #1169
\item The number of security sessions in the cache is now advertised in
the daemon ClassAd as \Attr{MonitorSelfSecuritySessions}.

% gittrac #1078
\item \Condor{dagman} now has the capability to run DAGs containing nodes
that are declared to be NOOPs -- for these nodes, a job is never actually
submitted.  See section~\ref{dagman:NOOP} for information.

% gittrac #1128
\index{submit commands!vm\_macaddr}
\item The submit file attribute \SubmitCmd{vm\_macaddr} can now be used to set
the MAC address for vm universe jobs that use VMware. The range of valid
MAC addresses is constrained by limits imposed by VMware.

% gittrac #1173
\item The \Condor{q} command with option \Opt{-globus}
is now much more efficient in its communication with the \Condor{schedd}.

\end{itemize}

\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

% gittrac #1242
\item The new configuration variable \MacroNI{STRICT\_CLASSAD\_EVALUATION}
controls whether new or old ClassAd expression evaluation semantics are
used. In new ClassAd semantics, an unscoped attribute reference is only
looked up in the local ad. The default is False (use old ClassAd semantics).

% gittrac #221
\item The configuration variable
\MacroNI{DELEGATE\_FULL\_JOB\_GSI\_CREDENTIALS} now applies to all proxy
delegations done between Condor daemons and tools.
The value is a boolean and defaults to \Expr{False},
which means that when doing delegation Condor will now create a limited proxy
instead of a full proxy.

\item The new configuration variable
  \MacroIndex{SEC\_DEFAULT\_SESSION\_LEASE}
  \Macro{SEC\_<access-level>\_SESSION\_LEASE} specifies the maximum
  number of seconds an unused security session will be kept in a daemon's
  session cache before being removed to save memory.  The default is 3600.
  If the server and client have different configurations, the smaller
  one will be used.

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

% gittrac #1141
\item The default value for \Macro{SEC\_DEFAULT\_SESSION\_DURATION}
  was effectively 3600 in Condor version 7.5.0.
  This produced longer than desired
  cached sessions for short-lived tools such as \Condor{status}.
  It also produced shorter than possibly desired cached sessions for
  long-lived daemons such as \Condor{startd}.  
  The default has been restored to what it was before Condor version 7.5.0,
  with the exception of \Condor{submit},
  which has been changed from 1 hour to 60 seconds.
  For command line tools, the default is 60 seconds,
  and for daemons it is 1 day.

% gittrac #1142
\item \MacroNI{SEC\_<access-level>\_SESSION\_DURATION} previously did
  not support integer expressions, but it did not detect invalid
  input, so the use of an expression could produce unexpected results.
  Now, like other integer configuration variables,
  a constant expression can be used and input is fully validated.

% gittrac #1196
\item The configuration variable \MacroNI{LOCAL\_CONFIG\_DIR} is no longer
ignored if defined in a local configuration file.

% gittrac #767
\item Removed the incorrect issuing of the following Condor version 7.5.0 
  warning to the
  \Condor{starter}'s log, even when the outdated, and no longer used
  configuration
  variable \MacroNI{EXECUTE\_LOGIN\_IS\_DEDICATED} was not defined.

\begin{verbatim}
WARNING: EXECUTE_LOGIN_IS_DEDICATED is deprecated.
Please use DEDICATED_EXECUTE_ACCOUNT_REGEXP instead.
\end{verbatim}


\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item None.

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item None.

\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-5-0}Version 7.5.0}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item All bug fixes and features which are in 7.4.1 are in this 7.5.0 release.

\end{itemize}


\noindent New Features:

\begin{itemize}

% gittrac #892
\item Added the new daemon \Condor{shared\_port} for Unix platforms 
  (except for HPUX).
  It allows Condor daemons to share a
  single network port.  This makes opening access to Condor through a
  firewall easier and safer.  It also increases the scalability of a
  submit node by decreasing port usage. See
  section~\ref{sec:Config-shared-port} for more information.

% gittrac #960
\item Improved CCB's handling of rude NAT/firewalls that silently drop
TCP connections.

% gittrac #968
\item Simplified the publication of daemon addresses.
  \Attr{PublicNetworkIpAddr} and \Attr{PrivateNetworkIpAddr} have been removed.
  \Attr{MyAddress} contains both public and private addresses.  For now,
  \Attr{<Subsys>IpAddr} contains the same information.  In a future release,
  the latter may be removed.

% gittrac #975
\item Changes to \MacroNI{TCP\_FORWARDING\_HOST},
  \MacroNI{PRIVATE\_NETWORK\_ADDRESS}, and
  \MacroNI{PRIVATE\_NETWORK\_NAME} can now be made without requiring a
  full restart.  It may take up to one \Condor{collector} update interval 
  for the changes to become visible.

% gittrac #1002
\item Network compatibility with Condor prior to 6.3.3 is no longer
  supported unless \MacroNI{SEC\_CLIENT\_NEGOTIATION} is set to
  \Expr{NEVER}.  This change removes the risk of communication errors
  causing performance problems resulting from automatic fall-back to the
  old protocol.

% gittrac #930
\item For efficiency, authentication between the \Condor{shadow} and
  \Condor{schedd} daemons is now able to be cached and reused in more
  cases.  Previously, authentication for updating job information was
  only cached if read access was configured to require authentication.

\item \Condor{config\_val} will now report the default value for
  configuration variables that are not set in the configuration files.

% gittrac #939
\item The \Condor{gridmanager} now uses a single status call to obtain
the status of all CREAM grid universe jobs from the remote server.

% gittrac #955
\item The \Condor{gridmanager} will now retry CREAM commands that time out.

% gittrac #941
\item Forwarding a renewed proxy for CREAM grid universe jobs to the
remote server is now much more efficient.

\end{itemize}

\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

% gittrac #997
\item Removed the configuration variable 
  \MacroNI{COLLECTOR\_SOCKET\_CACHE\_SIZE}.
  Configuration of this parameter used to be mandatory to enable TCP updates
  to the \Condor{collector}.  Now no special configuration of the
  \Condor{collector} is required to allow TCP updates, but it is
  important to ensure that there are sufficient file descriptors for
  efficient operation.  See section~\ref{sec:tcp-collector-update} for
  more information.

% gittrac #892
\item The new configuration variable \MacroNI{USE\_SHARED\_PORT} 
  is a boolean value that specifies
  whether a Condor process should rely on the \Condor{shared\_port} daemon for
  receiving incoming connections.  Write access to
  \Macro{DAEMON\_SOCKET\_DIR} is required for this to take effect.
  The default is \Expr{False}.  If set to \Expr{True}, \MacroNI{SHARED\_PORT}
  should be added to \MacroNI{DAEMON\_LIST}.  See
  section~\ref{sec:Config-shared-port} for more information.

% gittrac #960
\item Added the new configuration variable \MacroNI{CCB\_HEARTBEAT\_INTERVAL}.
  It is the maximum
  number of seconds of silence on a daemon's connection to the CCB server
  after which it will ping the server to verify that the connection still
  works.  
  The default value is 1200 (20 minutes).
  This feature serves to both speed
  up detection of dead connections and to generate a guaranteed minimum
  frequency of activity to attempt to prevent the connection from being
  dropped.

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

\item Fixed problem with a ClassAd debug function,
so it now properly emits debug information for ClassAd \Code{IfThenElse}
clauses.

\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item None.

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item None.

\end{itemize}
