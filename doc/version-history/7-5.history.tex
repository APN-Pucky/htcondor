%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{\label{sec:History-7-5}Development Release Series 7.5}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

This is the development release series of Condor.
The details of each version are described below.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-5-1}Version 7.5.1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item Condor version 7.5.1 not yet released.
%\item Condor version 7.5.1 released on Month Date, 2010.

\item All bug fixes and features which are in Condor version 7.4.2
are in this 7.5.1 release.

\item The Condor release is now available as a proper RPM or Debian
package.

\item Condor now internally uses the version of New ClassAds provided
as a stand-alone library (\URL{http://www.cs.wisc.edu/condor/classad/}).
Previously, Condor 
used an older version of ClassAds that was heavily tied to the Condor 
development libraries. This change should be transparent in the 
current development series. In the next development series (7.7.x),
Condor  will begin to use features of New ClassAds that were unavailable in 
Old ClassAds. 
Section~\ref{sec:classad-newandold} details the differences.

\item HPUX 11.00 is no longer a supported platform.

\end{itemize}


\noindent New Features:

\begin{itemize}

% gittrac #1102
\item A port number defined within \Macro{CONDOR\_VIEW\_HOST} may now use 
  a shared port.

% gittrac #1104
\item The \Condor{master} no longer pauses for 3 seconds after starting
  the \Condor{collector}.  However, if the configuration variable
  \MacroNI{COLLECTOR\_ADDRESS\_FILE} defines a file, 
  the \Condor{master} will wait for that file to be created
  before starting other daemons.

% gittrac #1144
\item In the grid universe, Condor can now automatically distinguish
between GRAM2 and GRAM5 servers, that is grid types \SubmitCmd{gt2} and
\SubmitCmd{gt5}.
Users can submit jobs using a grid type of \SubmitCmd{gt2} or \SubmitCmd{gt5}
for either type of server.

% gittrac #938
\item Grid universe jobs using the CREAM grid system now batch up
common requests into larger single requests.  This
reduces network traffic, increases the number of parallel tasks
the Condor can handle at once, and reduces the load on the remote
gatekeeper.

% gittrac #1100
\index{submit commands!cream\_attributes}
\item The new submit description file command \SubmitCmd{cream\_attributes}
sets additional attribute/value pairs for the CREAM job description
that Condor creates when submitting a grid universe job 
destined for the CREAM grid system.

% gittrac #1138
\item The \Condor{q} command with option \Opt{-analyze} is now performs
the same analysis as previously occurred with the \Opt{-better-analyze} option.
Therefore, the output of \Condor{q} with the \Opt{-analyze} option
has different output than before,
and the \Opt{-better-analyze} option no longer exists.

% gittrack #1169
\item Security sessions that are not used for longer than an hour are
now removed from the security session cache to limit memory usage.

% gittrack #1169
\item The number of security sessions in the cache is now advertised in
the daemon ClassAd as \Attr{MonitorSelfSecuritySessions}.

% gittrac #1078
\item \Condor{dagman} now has the capability to run DAGs containing nodes
that are declared to be NOOPs -- for these nodes, a job is never actually
submitted.  See section~\ref{dagman:NOOP} for information.

% gittrac #1128
\index{submit commands!vm\_macaddr}
\item The submit file attribute \SubmitCmd{vm\_macaddr} can now be used to set
the MAC address for vm universe jobs that use VMware. The range of valid
MAC addresses is constrained by limits imposed by VMware.

% gittrac #1173
\item The \Condor{q} command with option \Opt{-globus}
is now much more efficient in its communication with the \Condor{schedd}.

\end{itemize}

\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

% gittrac #1242
\item The new configuration variable \MacroNI{STRICT\_CLASSAD\_EVALUATION}
controls whether new or old ClassAd expression evaluation semantics are
used. In new ClassAd semantics, an unscoped attribute reference is only
looked up in the local ad. The default is False (use old ClassAd semantics).

% gittrac #221
\item The configuration variable
\MacroNI{DELEGATE\_FULL\_JOB\_GSI\_CREDENTIALS} now applies to all proxy
delegations done between Condor daemons and tools.
The value is a boolean and defaults to \Expr{False},
which means that when doing delegation Condor will now create a limited proxy
instead of a full proxy.

\item The new configuration variable
  \MacroNI{SEC\_<access-level>\_SESSION\_LEASE} specifies the maximum
  number of seconds an unused security session will be kept in a daemon's
  session cache before being removed to save memory.  The default is 3600.
  If the server and client have different configurations, the smaller
  one will be used.

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

% gittrack #1141
\item The default value for \Macro{SEC\_DEFAULT\_SESSION\_DURATION}
  was effectively 3600 in Condor version 7.5.0.
  This produced longer than desired
  cached sessions for short-lived tools such as \Condor{status}.
  It also produced shorter than possibly desired cached sessions for
  long-lived daemons such as \Condor{startd}.  
  The default has been restored to what it was before Condor version 7.5.0,
  with the exception of \Condor{submit},
  which has been changed from 1 hour to 60 seconds.
  For command line tools, the default is 60 seconds,
  and for daemons it is 1 day.

% gittrack #1142
\item \MacroNI{SEC\_<access-level>\_SESSION\_DURATION} previously did
  not support integer expressions, but it did not detect invalid
  input, so the use of an expression could produce unexpected results.
  Now, like other integer configuration variables,
  a constant expression can be used and input is fully validated.

% gittrac #1196
\item The configuration variable \MacroNI{LOCAL\_CONFIG\_DIR} is no longer
ignored if defined in a local configuration file.

% gittrack #767
\item Removed the incorrect issuing of the following Condor version 7.5.0 
  warning to the
  \Condor{starter}'s log, even when the outdated, and no longer used
  configuration
  variable \MacroNI{EXECUTE\_LOGIN\_IS\_DEDICATED} was not defined.

\begin{verbatim}
WARNING: EXECUTE_LOGIN_IS_DEDICATED is deprecated.
Please use DEDICATED_EXECUTE_ACCOUNT_REGEXP instead.
\end{verbatim}


\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item None.

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item None.

\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-5-0}Version 7.5.0}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item All bug fixes and features which are in 7.4.1 are in this 7.5.0 release.

\end{itemize}


\noindent New Features:

\begin{itemize}

% gittrack #892
\item Added the new daemon \Condor{shared\_port} for Unix platforms 
  (except for HPUX).
  It allows Condor daemons to share a
  single network port.  This makes opening access to Condor through a
  firewall easier and safer.  It also increases the scalability of a
  submit node by decreasing port usage. See
  section~\ref{sec:Config-shared-port} for more information.

% gittrack #960
\item Improved CCB's handling of rude NAT/firewalls that silently drop
TCP connections.

% gittrack #968
\item Simplified the publication of daemon addresses.
  \Attr{PublicNetworkIpAddr} and \Attr{PrivateNetworkIpAddr} have been removed.
  \Attr{MyAddress} contains both public and private addresses.  For now,
  \Attr{<Subsys>IpAddr} contains the same information.  In a future release,
  the latter may be removed.

% gittrack #975
\item Changes to \MacroNI{TCP\_FORWARDING\_HOST},
  \MacroNI{PRIVATE\_NETWORK\_ADDRESS}, and
  \MacroNI{PRIVATE\_NETWORK\_NAME} can now be made without requiring a
  full restart.  It may take up to one \Condor{collector} update interval 
  for the changes to become visible.

% gittrack #1002
\item Network compatibility with Condor prior to 6.3.3 is no longer
  supported unless \MacroNI{SEC\_CLIENT\_NEGOTIATION} is set to
  \Expr{NEVER}.  This change removes the risk of communication errors
  causing performance problems resulting from automatic fall-back to the
  old protocol.

% gittrack #930
\item For efficiency, authentication between the \Condor{shadow} and
  \Condor{schedd} daemons is now able to be cached and reused in more
  cases.  Previously, authentication for updating job information was
  only cached if read access was configured to require authentication.

\item \Condor{config\_val} will now report the default value for
  configuration variables that are not set in the configuration files.

% gittrac #939
\item The \Condor{gridmanager} now uses a single status call to obtain
the status of all CREAM grid universe jobs from the remote server.

% gittrac #955
\item The \Condor{gridmanager} will now retry CREAM commands that time out.

% gittrac #941
\item Forwarding a renewed proxy for CREAM grid universe jobs to the
remote server is now much more efficient.

\end{itemize}

\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

% gittrack #997
\item Removed the configuration variable 
  \MacroNI{COLLECTOR\_SOCKET\_CACHE\_SIZE}.
  Configuration of this parameter used to be mandatory to enable TCP updates
  to the \Condor{collector}.  Now no special configuration of the
  \Condor{collector} is required to allow TCP updates, but it is
  important to ensure that there are sufficient file descriptors for
  efficient operation.  See section~\ref{sec:tcp-collector-update} for
  more information.

% gittrack #892
\item The new configuration variable \MacroNI{USE\_SHARED\_PORT} 
  is a boolean value that specifies
  whether a Condor process should rely on the \Condor{shared\_port} daemon for
  receiving incoming connections.  Write access to
  \Macro{DAEMON\_SOCKET\_DIR} is required for this to take effect.
  The default is \Expr{False}.  If set to \Expr{True}, \MacroNI{SHARED\_PORT}
  should be added to \MacroNI{DAEMON\_LIST}.  See
  section~\ref{sec:Config-shared-port} for more information.

% gittrack #960
\item Added the new configuration variable \MacroNI{CCB\_HEARTBEAT\_INTERVAL}.
  It is the maximum
  number of seconds of silence on a daemon's connection to the CCB server
  after which it will ping the server to verify that the connection still
  works.  
  The default value is 1200 (20 minutes).
  This feature serves to both speed
  up detection of dead connections and to generate a guaranteed minimum
  frequency of activity to attempt to prevent the connection from being
  dropped.

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

\item Fixed problem with a ClassAd debug function,
so it now properly emits debug information for ClassAd \Code{IfThenElse}
clauses.

\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item None.

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item None.

\end{itemize}
