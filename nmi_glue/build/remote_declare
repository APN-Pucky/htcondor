#!/usr/bin/env perl

# $Id: remote_declare,v 1.4 2007-11-02 17:29:38 matt Exp $

# Condor implementation of NMI build infrastructure interface.
# This is just a trivial hard-coded declare list, which is the 
# same on all platforms, all versions, etc.

use strict;
use Getopt::Long;
use vars qw/ $opt_externals_only /;
GetOptions(
            'externals-only' => \$opt_externals_only
);

open( LIST, ">tasklist.nmi" ) || die "Can't open tasklist.nmi: $!\n";
if ($ENV{NMI_PLATFORM} =~ /winnt/) {
    print LIST "win_make\n";
    print LIST "win_release\n";
} else {
    print LIST "externals\n";
    if (!defined($opt_externals_only)) {
	print LIST "release\n";
	print LIST "static\n";
	print LIST "stripped\n";
	print LIST "public\n";
	print LIST "testbin\n";
    }
}
close( LIST );
