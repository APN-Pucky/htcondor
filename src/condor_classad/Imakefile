SRC_DIR = $(SRC_TREE)/condor_classad

C_PLUS_FLAGS = -Wall $(STD_C_PLUS_FLAGS) -fexternal-templates -DNEW_PROC
CFLAGS = -Wall $(STD_C_FLAGS)

#if IS_SPARC_SUNOS41
SYSPARAM = sysparam_sun
#endif
#if IS_SUN4M_SOLARIS || IS_SUN4M_SOLARIS251
SYSPARAM = sysparam_solaris
#endif
#if IS_X86_SOLARIS
SYSPARAM = sysparam_solaris
#endif
#if IS_ALPHA_OSF1
SYSPARAM = sysparam_osf1
#endif
#if IS_MIPS_ULTRIX42 || IS_MIPS_ULTRIX43
SYSPARAM = sysparam_ultrix
#endif
#if IS_R6000_AIX32
SYSPARAM=sysparam_aix
#endif
#if IS_HPPAR_HPUX9
SYSPARAM = sysparam_hpux
#endif
#if IS_I386_LINUX
SYSPARAM = sysparam_linux
#endif


IO_OBJ = stream.o buffers.o reli_sock.o safe_sock.o sock.o

SRC = ast.C astbase.C buildtable.C parser.C scanner.C registration.C \
	  attrlist.C classad.C classifiedjobs.C classad_util.C

OBJ = ast.o astbase.o buildtable.o parser.o scanner.o registration.o \
	  attrlist.o classad.o classifiedjobs.o classad_util.o $(IO_OBJ)

all_target(expr_lib.a)

library_target( expr_lib.a,$(OBJ))

clean::
	rm -f *.o expr_lib.a

depend_target($(SRC))

IMPORT_LINKS = ../../config/import_links
import(../condor_io, $(IO_OBJ))

release:
