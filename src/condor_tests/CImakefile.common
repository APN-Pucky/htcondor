/*************************************************************
 * This file is for tests that are common to both C and C++
 ************************************************************/

#if ! IS_CLIPPED

/*********************************
 * Tests for FULL ports
 ********************************/


/****************************
 * Core Condor Functionality
 ***************************/

DESC(job_core_bigenv_std,"Standard job with an enormous environment")
CBUILD($(CC),job_core_bigenv,c)
DEPS(job_core_bigenv_std,job_core_bigenv.exe)
RUN(job_core_bigenv_std)
TESTCLASS(job_core_bigenv_std,quick)


/****************************
 * Remote System Calls
 ***************************/

DESC(job_rsc_hello_std,"Tests various RSC I/O methods")
CBUILD($(CC),job_rsc_hello_std,c)
DEPS(job_rsc_hello_std,x_hello.in)
RUN(job_rsc_hello_std)
TESTCLASS(job_rsc_hello_std,quick)

DESC(job_rsc_fcntl_std,"Does fcntl() work remotely?")
CBUILD($(CC),job_rsc_fcntl_std,c)
RUN(job_rsc_fcntl_std)
TESTCLASS(job_rsc_fcntl_std,quick)


/****************************
 * Checkpointing
 ***************************/

DESC(job_ckpt_stack_std,"ckpt/restore function call stack")
CBUILD($(CC),job_ckpt_stack_std,c)
RUN(job_ckpt_stack_std)
TESTCLASS(job_ckpt_stack_std,quick)

DESC(job_ckpt_floats_std,"ckpt/restore floating point registers")
CBUILD($(CC),job_ckpt_floats_std,c)
RUN(job_ckpt_floats_std)
TESTCLASS(job_ckpt_floats_std,quick)

DESC(job_ckpt_integers_std,"ckpt/restore integer registers")
CBUILD($(CC),job_ckpt_integers_std,c)
RUN(job_ckpt_integers_std)
TESTCLASS(job_ckpt_integers_std,quick)

#if DOES_SAVE_SIGSTATE
DESC(job_ckpt_signals_std,"ckpt/restore signal state")
CBUILD($(CC),job_ckpt_signals_std,c)
RUN(job_ckpt_signals_std)
#endif /* DOES_SAVE_SIGSTATE */

DESC(job_ckpt_getrusage-loop_std,"Does getrusage() work across ckpts?")
CBUILD_DEP($(CC),job_ckpt_getrusage-loop_std,c,x_waste_second.o)
/* 
this is a terrible idea, but i'm commenting out this test so it
doesn't keep running.  there's a bug in condor's getrusage() support
which this test is noticing but no one's bothered to ever fix it.  so,
for now, instead of seeing failed tests every night, we'll just know
it's broken and stop running it.
RUN(job_ckpt_getrusage-loop_std)
*/

#endif /* ! IS_CLIPPED */
