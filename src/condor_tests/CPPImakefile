/***********************************************************************
 First, include common settings across all compiler-specific Imakefiles
************************************************************************/
#include "Imakefile.common"
#include "Imakefile.common.compiler"


/***********************************************************************
 Now, define make variables that are specific to this compiler
************************************************************************/
CC = CPP_COMPILER
CPlusPlus = CPP_COMPILER
CFLAGS	= $(BUILD_FLAGS) $(INCLUDE_FLAGS) -g 
C_PLUS_FLAGS = $(CFLAGS)


/***********************************************************************
 Next, define tests that are specific to C++
************************************************************************/


/****************************
 * Core C++ Functionality 
 ***************************/

DESC(job_core-cpp_exception_std,"C++ exception handling")
CBUILD($(CC),job_core-cpp_exception_std,C)
RUN(job_core-cpp_exception_std)
TESTCLASS(job_core-cpp_exception_std,quick)

DESC(job_core-cpp_mem-alloc_std,"Memory allocation and constructors")
CBUILD($(CC),job_core-cpp_mem-alloc_std,C)
RUN(job_core-cpp_mem-alloc_std)
TESTCLASS(job_core-cpp_mem-alloc_std,quick)


/****************************
 * Remote System Calls
 ***************************/

DESC(job_rsc_fstream_std,"Does the C++ fstream() interface work?")
CBUILD($(CC),job_rsc_fstream_std,C)
DEPS(job_rsc_fstream_std,x_data.in)
RUN(job_rsc_fstream_std)
TESTCLASS(job_rsc_fstream_std,quick)


/****************************
 * Checkpointing
 ***************************/

DESC(job_ckpt_constructor_std,"Test C++ global and local constructors")
CBUILD($(CC),job_ckpt_constructor_std,C)
RUN(job_ckpt_constructor_std)
TESTCLASS(job_ckpt_constructor_std,quick)



/***********************************************************************
  Finally, include all the tests that are common to both C and C++
************************************************************************/
#include "CImakefile.common"



