#!/usr/bin/env perl
##**************************************************************
##
## Copyright (C) 1990-2007, Condor Team, Computer Sciences Department,
## University of Wisconsin-Madison, WI.
## 
## Licensed under the Apache License, Version 2.0 (the "License"); you
## may not use this file except in compliance with the License.  You may
## obtain a copy of the License at
## 
##    http://www.apache.org/licenses/LICENSE-2.0
## 
## Unless required by applicable law or agreed to in writing, software
## distributed under the License is distributed on an "AS IS" BASIS,
## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
## See the License for the specific language governing permissions and
## limitations under the License.
##
##**************************************************************


use CondorTest;

$cmd = 'job_ckpt_f-floats_std.cmd';
$testname = 'Floats Test';

$foo  = << "_EOX";
 About to checkpoint
 Returned from checkpoint
 args:    35.0000    35.0000    35.0000    35.0000    35.0000    35.0000    35.0000
     35.0000
 args:    34.0000    34.0000    34.0000    34.0000    34.0000    34.0000    34.0000
     34.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    33.0000    33.0000    33.0000    33.0000    33.0000    33.0000    33.0000
     33.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    32.0000    32.0000    32.0000    32.0000    32.0000    32.0000    32.0000
     32.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    31.0000    31.0000    31.0000    31.0000    31.0000    31.0000    31.0000
     31.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    30.0000    30.0000    30.0000    30.0000    30.0000    30.0000    30.0000
     30.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    29.0000    29.0000    29.0000    29.0000    29.0000    29.0000    29.0000
     29.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    28.0000    28.0000    28.0000    28.0000    28.0000    28.0000    28.0000
     28.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    27.0000    27.0000    27.0000    27.0000    27.0000    27.0000    27.0000
     27.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    26.0000    26.0000    26.0000    26.0000    26.0000    26.0000    26.0000
     26.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    25.0000    25.0000    25.0000    25.0000    25.0000    25.0000    25.0000
     25.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    24.0000    24.0000    24.0000    24.0000    24.0000    24.0000    24.0000
     24.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    23.0000    23.0000    23.0000    23.0000    23.0000    23.0000    23.0000
     23.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    22.0000    22.0000    22.0000    22.0000    22.0000    22.0000    22.0000
     22.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    21.0000    21.0000    21.0000    21.0000    21.0000    21.0000    21.0000
     21.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    20.0000    20.0000    20.0000    20.0000    20.0000    20.0000    20.0000
     20.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    19.0000    19.0000    19.0000    19.0000    19.0000    19.0000    19.0000
     19.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    18.0000    18.0000    18.0000    18.0000    18.0000    18.0000    18.0000
     18.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    17.0000    17.0000    17.0000    17.0000    17.0000    17.0000    17.0000
     17.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    16.0000    16.0000    16.0000    16.0000    16.0000    16.0000    16.0000
     16.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    15.0000    15.0000    15.0000    15.0000    15.0000    15.0000    15.0000
     15.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    14.0000    14.0000    14.0000    14.0000    14.0000    14.0000    14.0000
     14.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    13.0000    13.0000    13.0000    13.0000    13.0000    13.0000    13.0000
     13.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    12.0000    12.0000    12.0000    12.0000    12.0000    12.0000    12.0000
     12.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    11.0000    11.0000    11.0000    11.0000    11.0000    11.0000    11.0000
     11.0000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:   10.00000   10.00000   10.00000   10.00000   10.00000   10.00000   10.00000
    10.00000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    9.00000    9.00000    9.00000    9.00000    9.00000    9.00000    9.00000
     9.00000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    8.00000    8.00000    8.00000    8.00000    8.00000    8.00000    8.00000
     8.00000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    7.00000    7.00000    7.00000    7.00000    7.00000    7.00000    7.00000
     7.00000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    6.00000    6.00000    6.00000    6.00000    6.00000    6.00000    6.00000
     6.00000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    5.00000    5.00000    5.00000    5.00000    5.00000    5.00000    5.00000
     5.00000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    4.00000    4.00000    4.00000    4.00000    4.00000    4.00000    4.00000
     4.00000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    3.00000    3.00000    3.00000    3.00000    3.00000    3.00000    3.00000
     3.00000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    2.00000    2.00000    2.00000    2.00000    2.00000    2.00000    2.00000
     2.00000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:    1.00000    1.00000    1.00000    1.00000    1.00000    1.00000    1.00000
     1.00000
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
 args:  0.  0.  0.  0.  0.  0.  0.  0.
 locals:   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000   -35.0000
    -35.0000   -35.0000
_EOX

@CondorTest::expected_output = split '\n', $foo;

CondorTest::RegisterExitedSuccess( $testname,
                   \&CondorTest::DefaultOutputTest );
CondorTest::RegisterExitedFailure( $testname,
                   \&CondorTest::DefaultOutputTest );

# fortran can return success or failure, we don't check the return value.
CondorTest::RunTest($testname, $cmd, 0);
print "$testname: SUCCESS\n";
exit(0);
