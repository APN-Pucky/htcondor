SRC_DIR = $(SRC_TREE)/condor_master
#if defined(USE_CONFIG_SERVER)
CFLAGS = $(STD_C_FLAGS) -DUSE_CONFIG_SERVER
C_PLUS_FLAGS =  $(STD_C_PLUS_FLAGS) -DNEW_PROC -DUSE_CONFIG_SERVER 
#else
CFLAGS = $(STD_C_FLAGS) 
C_PLUS_FLAGS =  $(STD_C_PLUS_FLAGS) -DNEW_PROC -Wall
#endif

SRC = master.C daemon.C
OBJ = master.o daemon.o
UTIL_LIB = ../condor_util_lib/util_lib.a
CLASS_LIB = ../condor_c++_util/cplus_lib.a
DAEMON_CORE_LIB = ../condor_daemon_core.V6/daemon_core.a
CLASSAD_LIB = ../condor_classad/expr_lib.a
#if defined(USE_CONFIG_SERVER)
CCTP_LIB = ../condor_config_server/cctp_lib.a
#endif

#if IS_HPPAR_HPUX9
BSD_LIB = /usr/lib/libBSD.a
#endif

LIB = $(DAEMON_CORE_LIB) $(CCTP_LIB) $(CLASSAD_LIB) $(UTIL_LIB) $(CLASS_LIB) $(UTIL_LIB) $(BSD_LIB) SocketLib KernLib
LIBDIRS = ../condor_util_lib ../condor_c++_util

all_target(condor_master)
tags_target($(SRC),$(LIBDIRS))
depend_target($(SRC))
c_plus_target(condor_master,$(OBJ),$(LIB))
pure_c_plus_target(condor_master.pure,$(OBJ),$(LIB))
purecov_c_plus_target(condor_master.pc,$(OBJ),$(LIB))
release_target(condor_master,$(RELEASE_DIR)/bin,EXECUTABLE_MODE)
