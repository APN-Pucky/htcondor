<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>HTCondorView</title>
  <link rel="stylesheet" href="htcondorview.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dygraph/1.1.0/dygraph-combined.js"></script>
  <script src="https://www.google.com/jsapi"></script>
  <script>
  google.load('visualization', '1.0', {
    packages: ['table', 'corechart', 'treemap', 'annotatedtimeline']
  });
  </script>
  <script src="heatgrid.js"></script>
  <script src="render.js"></script>
  <script src="htcondorview.js"></script>
  <script src="htcondorview-linked.js"></script>

<style>
body {
	font-family: "Helvetica Neue", Helvetica, sans-serif;
}

.dashboard-item {
	display: inline-block;
	width: 300px;
	height: 200px;
}

ul.radio-tabs {
	display: inline;
	margin: 0;
	padding: 0;
}

ul.radio-tabs li {
	display: inline-block;
}
ul.radio-tabs li input[type="radio"] {
	display: none;
}
ul.radio-tabs li label {
	display: block;
	border: 1px solid black;
	background: #ededed;
	padding: .1em .8em;
	cursor: pointer;
}
ul.radio-tabs li:first-child label {
	border-top-left-radius: .6em;
	border-bottom-left-radius: 0.6em;
}
ul.radio-tabs li:last-child label {
	border-top-right-radius: 0.6em;
	border-bottom-right-radius: 0.6em;
}
ul.radio-tabs li input[type="radio"]:checked + label {
	background: white;
	cursor: inherit;
}

#view-paired .graph .vizchart {
	height: 400px;
}
</style>
</head>
<body>

<h1><img src="HTCondor_logo.png" style="display: inline-block;  height: 1.3em;" alt="HTCondor"> View</h1>

<div id="pie-users" class="dashboard-item"></div>
<script>
new HTCondorView( "pie-users", "submitters.now.json",
	"order=JobStatus&group=JobStatus;Count&chart=pie",
	{title: "Total Jobs"});
</script>

<div id="pie-machines" class="dashboard-item"></div>
<script>
new HTCondorView( "pie-machines", "machines.now.json",
"order=State&group=State;Cpus&chart=pie",
	{title: "Machine State"});
</script>

<div id="pie-submits" class="dashboard-item"></div>
<script>
new HTCondorView( "pie-submits", "submitters.now.json",
	"order=Machine&group=Machine;Count&chart=pie",
	{title: "Submit Points"});
</script>


<div id="simple-paired"></div>
<script>
new HTCondorView({
		dst_id: "simple-paired",
		title: "Total Jobs",
		data_url: "submitters.json",
		graph_query: "order=Date&pivot=Date;JobStatus;Count&chart=stacked",
		table_query: "order=Date&pivot=Name;JobStatus;avg(Count)",
		select_tuple: ["Name"]
	});
</script>



<div id="view-paired"></div>
<script>
new HTCondorViewLinked('view-paired');
</script>

<!-- vizlog is where errors will go. -->
<div id="vizlog"></div>


</body>
</html>
