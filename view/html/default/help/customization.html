{% extends "base.html" %}

{% block title %}
    HTCondorView - Customization
{% endblock title %}

{% block head %}
    <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
{% endblock head %}

{% block body %}

    <div class="container">
        <div class="row">
            <div class="col-9">
                <h1>Customizing HTCondor View</h1>

                <h2 id="simple-modifications">Simple Modifications</h2>

                <h2 id="html-generation">HTML Generation</h2>

                <p>
                    To fully customize HTCondor View, you'll need to:
                <ol>
                    <li>
                        Be able to
                        <a href="https://www.python.org/downloads/release">install Python 3.6+</a>
                        and a few dependencies, then run a script from the command line
                    </li>
                    <li>
                        Know how to write a little bit of HTML/CSS/Javascript, depending on what you want to customize
                    </li>
                </ol>

                Although the Javascript that renders the graphs is difficult to customize, the surrounding HTML and CSS is easy to replace with your own, custom work.
                Any changes you make will be permanent and will not be overwritten by future updates to the defaults.
                </p>

                <h3 id="overview">Overview</h3>

                <p>
                    The HTML for HTCondor View is generated by "rendering" HTML "templates" using
                    <a href="http://jinja.pocoo.org/docs/2.10/">Jinja2</a>.
                    Which templates are rendered into actual pages is determined by the file
                    <code>html/sitemap.json</code>,
                    which specifies a hierarchical structure for the resulting website.
                    The default HTML templates and static files are stored in
                    <code>html/default</code>, and your custom files are stored in
                    <code>html/custom</code>, which you should create if it doesn't exist.
                </p>

                <h3 id="the-sitemap">The Sitemap</h3>
                <p>
                    The sitemap, store in
                    <code>html/sitemap.json</code>, determines the structure of the HTCondor View website.
                    Each key should be the name of a link, or the name of a group of links.
                    The value for each link should be the name (not the path) of the HTML template for that page.
                    Keys with a
                    <code>#</code> prefix are "hidden": they are rendered, but not placed in the navigation bar (navbar) at the top of the site.
                    You can still link to these pages manually.
                </p>

                <pre><code class="json"># html/sitemap.json
{
  "Overview": "index.html",
  "Submitters": {
    "Job Status": "job_status.html"
  },
  "Slots": {
  },
  "Operations": {
    "CPU and Memory": "cpu_and_memory.html"
  },
  "#fullscreen": "fullscreen.html",
  "#edit": "edit.html",
  "#syntax": "syntax.html",
  "#glossary": "glossary.html",
  "#customization": "customization.html"
}</code></pre>

                <h3 id="jinja2-crash-course">Jinja2 Crash Course</h3>
            </div>


            <div class="col-sm-auto offset-7 bg-light position-fixed htcv-sidenav">
                <ul class="lvl1">
                    <li>
                        <a href="{{ current_page }}#simple-modifications">Simple Modifications</a>
                    </li>
                    <li>
                        <a href="{{ current_page }}#html-generation">HTML Generation</a>
                        <ul class="lvl2">
                            <li>
                                <a href="{{ current_page }}#overview">Overview</a>
                            </li>
                            <li>
                                <a href="{{ current_page }}#the-sitemap">The Sitemap</a>
                            </li>
                            <li>
                                <a href="{{ current_page }}#jinja2-crash-course">Jinja2 Crash Course</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>

        </div>
    </div>

{% endblock body %}
